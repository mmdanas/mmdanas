{"job":{"components":{"15195":{"id":15195,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1155583855,"x":-112,"y":-32,"width":32,"height":32,"inputConnectorIDs":[15200],"outputSuccessConnectorIDs":[15199],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TOP5_CITY"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"4":{"slot":4,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SUPERSTORE_ORDERS"}}}},"visible":false},"6":{"slot":6,"name":"Table Columns","elements":{},"visible":false},"7":{"slot":7,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"/* Note: This query will be run as a subquery for the purposes of sampling the data. As such it will be restricted by any subquery limitations specified by the current platform.*/\n\nSELECT\n\"City\" AS CITY,SUM(\"Sales\") as TOTAL_SALES from \"TRAINING\".\"TAMGROUP\".\"SUPERSTORE_ORDERS\"\ngroup by 1 order by SUM(\"Sales\") desc limit 5"}}}},"visible":true},"8":{"slot":8,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TOP_5_CITY"}}}},"visible":true},"9":{"slot":9,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CITY"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"TOTAL_SALES"}}}},"visible":true},"10":{"slot":10,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"11":{"slot":11,"name":"Order By","elements":{},"visible":false},"12":{"slot":12,"name":"Sort","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Ascending"}}}},"visible":false},"13":{"slot":13,"name":"Filter Conditions","elements":{},"visible":false},"14":{"slot":14,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":false},"20":{"slot":20,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"15196":{"id":15196,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-288,"y":-32,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[15200,23619],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"15197":{"id":15197,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-424773870,"x":368,"y":-32,"width":32,"height":16,"inputConnectorIDs":[15199],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grid Iterator 0"}}}},"visible":true},"3":{"slot":3,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"GV_TEST_GRID"}}}},"visible":true},"4":{"slot":4,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TEST1_COL1"},"2":{"slot":2,"type":"STRING","value":"jv_col1"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"TEST2_COL2"},"2":{"slot":2,"type":"STRING","value":"jv_col2"}}}},"visible":true},"5":{"slot":5,"name":"Break on Failure","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Sequential"}}}},"visible":true},"999":{"slot":999,"name":"Record Values In Task History","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[15232],"inputIterationConnectorIDs":[]},"15198":{"id":15198,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":368,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"GRID_SQL"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"GRID_SQL"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jv_city"},"2":{"slot":2,"type":"STRING","value":"${CITY}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[15232]},"23616":{"id":23616,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186829,"x":-74,"y":183,"width":32,"height":32,"inputConnectorIDs":[23619],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python Script 0"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print (myvar)\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print (context.getGridVariable('mygridvar'))\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\nprint (context.getGridVariable('GV_TEST_GRID'))\n\nprint jv_test"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false},"5":{"slot":5,"name":"User","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Restricted"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"15199":{"id":15199,"sourceID":15195,"targetID":15197}},"failureConnectors":{},"unconditionalConnectors":{"15200":{"id":15200,"sourceID":15196,"targetID":15195},"23619":{"id":23619,"sourceID":15196,"targetID":23616}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"15232":{"id":15232,"sourceID":15197,"targetID":15198}},"noteConnectors":{"15192":[15195,15196,15197,15198]},"notes":{"15192":{"id":15192,"x":-240,"y":-131,"width":279,"height":154,"text":"QUERY TO GRID:\n1.Pass query results into an array and use them as needed\n2.Grid variable must be defined before","colour":"f9c21b"},"15193":{"id":15193,"x":-331,"y":-199,"width":921,"height":291,"text":"","colour":"00ce4f"},"15194":{"id":15194,"x":88,"y":-167,"width":429,"height":207,"text":"GRID ITERATOR:\n1.A grid variable and Job variable is needed\n2.The Job variable can be either a copied or shared variable based on how the grid implementation is done\n\nNote:\n**CONCURRENT** - __COPIED__\n**SEQUENTIAL** - __SHARED__","colour":"e6e63c"}},"variables":{"CITY":{"definition":{"name":"CITY","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"DEFAULT"},"jv_col1":{"definition":{"name":"jv_col1","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"jv_col2":{"definition":{"name":"jv_col2","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"jv_test":{"definition":{"name":"jv_test","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"TEST"},"watermark_date":{"definition":{"name":"watermark_date","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"2021-01-01"}},"grids":{"GRID_METADATA":{"definition":{"name":"GRID_METADATA","scope":"TASKBATCH","definitions":[{"name":"COLUMN_NAME","type":"TEXT"},{"name":"COLUMN_TYPE","type":"TEXT"},{"name":"COLUMN_LENGTH","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[]},"GV_TEST_GRID":{"definition":{"name":"GV_TEST_GRID","scope":"BRANCH","definitions":[{"name":"TEST1_COL1","type":"TEXT"},{"name":"TEST2_COL2","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[{"values":["TEST1","TEST2"]}]},"TOP_5_CITY":{"definition":{"name":"TOP_5_CITY","scope":"TASKBATCH","definitions":[{"name":"CITY","type":"TEXT"},{"name":"TOTAL_SALES","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[]}}},"info":{"name":"QUERY_TO_GRID_ITERATOR","description":"","type":"ORCHESTRATION","tag":"f02dbcb0-cf43-43e6-af2a-af6eacb0914c"}}